"use strict";(self.webpackChunkappgastos_frontend=self.webpackChunkappgastos_frontend||[]).push([[177],{5177:(at,T,g)=>{g.r(T),g.d(T,{EarningsModule:()=>tt});var p=g(4364),l=g(335),I=g(8379),q=g(4664),N=g(881),_=g(5709),m=g(9369),u=g(1318),f=g(9851),n=g(2316),d=g(5540),D=g(2e3),U=g(5409);let O=(()=>{class e{constructor(t,a,r,o){this.activatedRoute=t,this.store=a,this.storeSrv=r,this.actions=o,this.params={},this.validationInitial=!1,this.subP=new u.w,this.susA=new u.w,this.subP=this.activatedRoute.queryParams.subscribe(s=>{console.log("qa suscription (router) params start-earnings.component",s),Object.keys(this.params).length&&!Object.keys(s).length&&this.store.dispatch((0,f.JM)()),this.params=s}),this.susA=this.actions.subscribe(s=>{("[Earnings User] Create Success"===s.type||"[Earnings User] Delete Success"===s.type)&&this.getAllData(!0),"[Earnings User] Reset Filters Earnings"===s.type&&(this.params={},this.getAllData(!0))})}ngOnInit(){var t=this;return(0,m.Z)(function*(){Object.keys(t.params).length&&(t.store.dispatch((0,f.dR)({filters:t.params,ref:"initial start 999999999999"})),t.validationInitial=!0,yield t.storeSrv.earningsByDate(t.params,"onInitSTART EARNINGS1")),t.getAllData(),yield t.storeSrv.getCategoriesEarnings()})()}getAllData(t=!1){var a=this;return(0,m.Z)(function*(){Object.keys(a.params).length>1&&!t||(yield a.storeSrv.earningsByDate(a.params,"onInitSTART EARNINGS"),yield a.storeSrv.getAllDataEarnings())})()}ngOnDestroy(){this.subP.unsubscribe(),this.susA.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(_.gz),n.Y36(d.yh),n.Y36(D.d),n.Y36(U.eX))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-start-earnings"]],decls:1,vars:0,template:function(t,a){1&t&&n._UZ(0,"router-outlet")},directives:[_.lC],encapsulation:2}),e})();var M=g(7787),v=g(1303),L=g(7693);let F=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-create-earning"]],decls:4,vars:0,consts:[[1,"container","pt-5","mx-auto"],[1,"grid","gap-4"],[1,"form-general"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div"),n._UZ(3,"app-form-earnings",2),n.qZA(),n.qZA(),n.qZA())},directives:[L.Q],encapsulation:2}),e})();var x=g(5334),A=g(6655),E=g(7919),J=g(163);function S(e,i){1&e&&(n.TgZ(0,"span"),n._uU(1,"- Hide"),n.qZA())}function $(e,i){1&e&&(n.TgZ(0,"span"),n._uU(1,"+ Show"),n.qZA())}function P(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"div"),n.TgZ(1,"span",9),n.NdJ("click",function(){return n.CHM(t),n.oxw(3).toggleChart()}),n.YNc(2,S,2,0,"span",0),n.ALo(3,"async"),n.YNc(4,$,2,0,"span",0),n.ALo(5,"async"),n._uU(6," Chart "),n.qZA(),n.qZA()}if(2&e){const t=n.oxw(3);n.xp6(2),n.Q6J("ngIf",n.lcZ(3,2,t.showChart$)),n.xp6(2),n.Q6J("ngIf",!n.lcZ(5,4,t.showChart$))}}const j=function(){return{text:"All Earnings",align:"center"}};function B(e,i){if(1&e&&n._UZ(0,"app-line",12),2&e){const t=n.oxw(5);n.Q6J("dataGraphics",t.dataGraphics)("nameLegend","All Time Earnings")("nameAvg","Average All")("title",n.DdM(4,j))}}function H(e,i){}function R(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,B,1,5,"app-line",10),n.YNc(2,H,0,0,"ng-template",11),n.qZA()),2&e){const t=n.oxw(4),a=n.MAs(4);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}const X=function(){return{text:"Month Earnings",align:"center"}};function k(e,i){if(1&e&&n._UZ(0,"app-line",14),2&e){const t=n.oxw(5);n.Q6J("dataGraphics",t.dataGraphics)("type","month")("nameLegend","Month Earnings")("nameAvg","Average Month")("title",n.DdM(5,X))}}function z(e,i){}function W(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,k,1,6,"app-line",13),n.YNc(2,z,0,0,"ng-template",11),n.qZA()),2&e){const t=n.oxw(4),a=n.MAs(4);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}const K=function(){return{}},V=function(){return{text:"Year Earnings",align:"center"}};function nn(e,i){if(1&e&&n._UZ(0,"app-line",16),2&e){const t=n.oxw(5);n.Q6J("dataGraphics",t.dataGraphics)("type","year")("nameLegend","Year Earnings")("nameAvg","Average Year")("xAxis",n.DdM(6,K))("title",n.DdM(7,V))}}function tn(e,i){}function en(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,nn,1,8,"app-line",15),n.YNc(2,tn,0,0,"ng-template",11),n.qZA()),2&e){const t=n.oxw(4),a=n.MAs(4);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}function an(e,i){}function on(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,an,0,0,"ng-template",11),n.qZA()),2&e){n.oxw(4);const t=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function rn(e,i){}function sn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,rn,0,0,"ng-template",11),n.qZA()),2&e){n.oxw(4);const t=n.MAs(4);n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function ln(e,i){if(1&e&&(n.ynx(0),n.YNc(1,R,3,2,"div",0),n.ALo(2,"async"),n.YNc(3,W,3,2,"div",0),n.ALo(4,"async"),n.YNc(5,en,3,2,"div",0),n.ALo(6,"async"),n.YNc(7,on,2,1,"div",0),n.ALo(8,"async"),n.YNc(9,sn,2,1,"div",0),n.ALo(10,"async"),n.BQk()),2&e){const t=n.oxw(3);n.xp6(1),n.Q6J("ngIf",!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.filter&&t.form.controls.filter.value)&&n.lcZ(2,5,t.showChart$)),n.xp6(2),n.Q6J("ngIf","month"===t.form.controls.filter.value&&t.form.controls.month.value&&n.lcZ(4,7,t.showChart$)),n.xp6(2),n.Q6J("ngIf","year"===t.form.controls.filter.value&&t.form.controls.year.value&&n.lcZ(6,9,t.showChart$)),n.xp6(2),n.Q6J("ngIf","date"===t.form.controls.filter.value&&t.form.controls.date.value&&n.lcZ(8,11,t.showChart$)),n.xp6(2),n.Q6J("ngIf","dates"===t.form.controls.filter.value&&t.form.controls.date1.value&&t.form.controls.date2.value&&n.lcZ(10,13,t.showChart$))}}function gn(e,i){if(1&e&&(n.TgZ(0,"div",3),n.TgZ(1,"div",4),n.TgZ(2,"form",5),n._UZ(3,"app-earnings-filters",6),n.qZA(),n.YNc(4,P,7,6,"div",0),n.YNc(5,ln,11,15,"ng-container",0),n.TgZ(6,"div",7),n._UZ(7,"app-earnings-person",8),n.qZA(),n.qZA(),n.qZA()),2&e){const t=i.ngIf,a=n.oxw(2);n.xp6(2),n.Q6J("formGroup",a.form),n.xp6(1),n.Q6J("form",a.form)("isFromCreate",!0),n.xp6(1),n.Q6J("ngIf",(null==t?null:t.length)&&a.loaded),n.xp6(1),n.Q6J("ngIf",a.loaded),n.xp6(2),n.Q6J("showHeader",!1)("showLink",!1)("showDelete",!0)("padding",!1)}}function cn(e,i){if(1&e&&(n.ynx(0),n.YNc(1,gn,8,9,"div",2),n.BQk()),2&e){const t=i.ngIf;n.xp6(1),n.Q6J("ngIf",null==t?null:t.data)}}const G=function(){return{text:"Year Category",align:"center"}};function pn(e,i){if(1&e&&n._UZ(0,"app-donut",19),2&e){const t=n.oxw(2);n.Q6J("dataGraphics",t.dataGraphics)("type","categoryearnings")("title",n.DdM(3,G))}}function _n(e,i){if(1&e&&n._UZ(0,"app-donut",19),2&e){const t=n.oxw(2);n.Q6J("dataGraphics",t.dataGraphics)("type","account")("title",n.DdM(3,G))}}function un(e,i){if(1&e&&(n.TgZ(0,"div",17),n.YNc(1,pn,1,4,"app-donut",18),n.YNc(2,_n,1,4,"app-donut",18),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length)}}let mn=(()=>{class e{constructor(t,a,r){this.store=t,this.activatedRoute=a,this.utilsEarnings=r,this.user={},this.form=new l.cw({}),this.showChart$=this.store.select(o=>{var s,c;return null===(c=null===(s=null==o?void 0:o.earnings)||void 0===s?void 0:s.filters)||void 0===c?void 0:c.showChart}),this.earnings$=this.store.select(o=>o.earnings),this.loading=!1,this.loaded=!1,this.sub=new u.w,this.dataGraphics=[],this.buildForm(),this.sub=this.store.select(o=>o).subscribe(o=>{var s,c,h,Z,C;try{this.loading=null===(s=null==o?void 0:o.earnings)||void 0===s?void 0:s.loading,this.loaded=null===(c=null==o?void 0:o.earnings)||void 0===c?void 0:c.loaded,this.user=null===(h=null==o?void 0:o.user)||void 0===h?void 0:h.data,this.queryParams=null===(Z=null==o?void 0:o.earnings)||void 0===Z?void 0:Z.filters,this.dataGraphics=[{},...null===(C=null==o?void 0:o.earnings)||void 0===C?void 0:C.complete]}catch(et){console.log(et)}})}ngOnDestroy(){this.sub.unsubscribe()}buildForm(){this.form=this.utilsEarnings.form()}ngOnInit(){}toggleChart(){this.store.dispatch((0,f.ri)()),this.utilsEarnings.createUrl(Object.assign({},this.queryParams),this.activatedRoute,"toggleChart()")}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.yh),n.Y36(_.gz),n.Y36(v.h))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-earnings"]],decls:5,vars:3,consts:[[4,"ngIf"],["donuts",""],["class","container pt-5 mx-auto",4,"ngIf"],[1,"container","pt-5","mx-auto"],[1,"grid","gap-4"],[3,"formGroup"],[3,"form","isFromCreate"],[1,""],[3,"showHeader","showLink","showDelete","padding"],[1,"cursor-pointer","font-semibold","hover:font-bold",3,"click"],[3,"dataGraphics","nameLegend","nameAvg","title",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"dataGraphics","nameLegend","nameAvg","title"],[3,"dataGraphics","type","nameLegend","nameAvg","title",4,"ngIf"],[3,"dataGraphics","type","nameLegend","nameAvg","title"],[3,"dataGraphics","type","nameLegend","nameAvg","xAxis","title",4,"ngIf"],[3,"dataGraphics","type","nameLegend","nameAvg","xAxis","title"],[1,"grid","grid-cols-2"],[3,"dataGraphics","type","title",4,"ngIf"],[3,"dataGraphics","type","title"]],template:function(t,a){1&t&&(n._UZ(0,"app-create-earning"),n.YNc(1,cn,2,1,"ng-container",0),n.ALo(2,"async"),n.YNc(3,un,3,2,"ng-template",null,1,n.W1O)),2&t&&(n.xp6(1),n.Q6J("ngIf",n.lcZ(2,1,a.earnings$)))},directives:[F,p.O5,l._Y,l.JL,l.sg,x.i,A.a,p.tP,E.y,J.L],pipes:[p.Ov],encapsulation:2}),e})();var w=g(7022),y=g(5387),b=g(1037);let dn=(()=>{class e{constructor(t,a){this.earningsSrv=t,this.store=a,this.form=new l.cw({}),this.sus=new u.w,this.user={},this.categories=this.store.select(r=>r.categories_earnings.data),this.sus=this.store.subscribe(r=>{this.user=r.user.data})}ngOnInit(){this.form=new l.cw({category:new l.NI("",l.kI.required)})}ngOnDestroy(){this.sus.unsubscribe()}createEarningCategory(){var t=this;return(0,m.Z)(function*(){var a,r;if(t.form.valid){let{category:o}=t.form.controls;try{let s={category:o.value,person:null===(r=null===(a=t.user)||void 0===a?void 0:a.person)||void 0===r?void 0:r.id},c=yield t.earningsSrv.createCategoryEarnings(s);c.category?(console.log("registro exitoso",c),t.form.reset(),t.store.dispatch((0,w.O)({any:c.categories}))):console.log("registro fallido")}catch(s){console.log("error => ",s)}}})()}deleteCategory(t){var a=this;return(0,m.Z)(function*(){if(t.id)try{let r={category:t.id,person:t.id_person},o=yield a.earningsSrv.deleteCategorieEarning(r);o.category?(console.log("categoria eliminada exitosamente"),a.form.reset(),a.store.dispatch((0,w.O)({any:o.categories}))):console.log("categoria eliminada fallida")}catch(r){console.log("error => ",r)}})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(y.y),n.Y36(d.yh))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-create-earning-category"]],decls:15,vars:2,consts:[[1,"container","pt-5","mx-auto"],[1,"grid","grid-cols-2","gap-4"],[1,"text-center","font-bold","text-2xl","mt-7","mb-5"],[1,"icon-wallet","mr-1"],[3,"formGroup","ngSubmit"],[1,"w-full"],["type","text","placeholder","Earning Category Name","formControlName","category",1,"w-full","p-2","mb-2"],["type","submit",1,"btn-form"],[3,"padding"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"div"),n.TgZ(3,"div",0),n.TgZ(4,"h1",2),n._UZ(5,"span",3),n._uU(6," Create Earning Category"),n.qZA(),n.TgZ(7,"form",4),n.NdJ("ngSubmit",function(){return a.createEarningCategory()}),n.TgZ(8,"div",5),n._UZ(9,"input",6),n.qZA(),n.TgZ(10,"div",5),n.TgZ(11,"button",7),n._uU(12,"Create"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(13,"div"),n._UZ(14,"app-list-categories-earnings",8),n.qZA(),n.qZA(),n.qZA()),2&t&&(n.xp6(7),n.Q6J("formGroup",a.form),n.xp6(7),n.Q6J("padding",!1))},directives:[l._Y,l.JL,l.sg,l.Fj,l.JJ,l.u,b.C],encapsulation:2}),e})();var Q=g(7900);function hn(e,i){1&e&&(n.TgZ(0,"option",26),n._uU(1,"Create one"),n.qZA()),2&e&&n.Q6J("value","create")}function fn(e,i){if(1&e&&(n.TgZ(0,"option",27),n._uU(1),n.qZA()),2&e){const t=i.$implicit;n.Q6J("value",t.id),n.xp6(1),n.Oqu(t.name)}}function vn(e,i){if(1&e&&(n.ynx(0),n._UZ(1,"app-item-earning",30),n.BQk()),2&e){const t=i.$implicit;n.xp6(1),n.Q6J("showDelete",!1)("item",t)}}function xn(e,i){if(1&e&&(n.TgZ(0,"div",28),n.YNc(1,vn,2,2,"ng-container",29),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngForOf",t.earnings)}}function yn(e,i){if(1&e&&(n.TgZ(0,"div",31),n._uU(1),n.TgZ(2,"a",32),n._uU(3,"here"),n.qZA(),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.hij(" There're not earnings for this category ",null==t.category?null:t.category.name,", create one "),n.xp6(1),n.Q6J("routerLink","/dashboard/earnings/create")}}function Zn(e,i){1&e&&(n.TgZ(0,"div",33),n.TgZ(1,"a",34),n._UZ(2,"span",35),n._uU(3," Create Earning"),n.qZA(),n.qZA()),2&e&&(n.xp6(1),n.Q6J("routerLink","/dashboard/earnings/create"))}function Cn(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"button",36),n.NdJ("click",function(){return n.CHM(t),n.oxw().prev()}),n._uU(1,"<"),n.qZA()}}function Tn(e,i){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.limit*(t.page+1))}}function An(e,i){if(1&e&&(n.TgZ(0,"span"),n._uU(1),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Oqu(t.quantity)}}function En(e,i){if(1&e&&(n.TgZ(0,"option",27),n._uU(1),n.qZA()),2&e){const t=i.$implicit;n.Q6J("value",t),n.xp6(1),n.Oqu(t+1)}}function Jn(e,i){if(1&e){const t=n.EpF();n.TgZ(0,"button",36),n.NdJ("click",function(){return n.CHM(t),n.oxw().next()}),n._uU(1,">"),n.qZA()}}let Gn=(()=>{class e{constructor(t,a,r,o){this.store=t,this.earningsSrv=a,this.router=r,this.route=o,this.id=0,this.user={},this.susP=new u.w,this.sus=new u.w,this.earnings=[],this.category=[],this.total=0,this.quantity=0,this.page=0,this.pageA=0,this.pages=0,this.pagesArray=[],this.limit=24,this.categories$=this.store.select(s=>s.categories_earnings.data),this.susP=this.route.params.subscribe(s=>{this.id=s.id}),this.sus=this.store.select(s=>s.user).subscribe(s=>{console.warn(s),this.user=s.data})}ngOnDestroy(){this.susP.unsubscribe(),this.sus.unsubscribe()}ngOnInit(t){var a=this;return(0,m.Z)(function*(){try{t&&(a.pageA=0,a.page=0,a.pages=0,a.quantity=0,a.total=0,a.earnings=[]);const r={category:a.id,person:a.user.id,page:a.page,limit:a.limit};let o=yield a.earningsSrv.getEarningsByCategory(r);if(console.log(o),o.category&&(a.category=o.category),o.earnings&&(a.earnings=o.earnings.rows),o.total&&(a.total=o.total),o.quantity&&(a.quantity=o.quantity),o.pages){a.pages=o.pages,a.pagesArray=[];for(let s=0;s<a.pages;s++)a.pagesArray.push(s)}}catch(r){console.log(r)}})()}setPage(){this.page=parseInt(this.pageA),this.ngOnInit()}next(){this.page++,this.pageA=this.page,this.ngOnInit()}prev(){this.page--,this.pageA=this.page,this.ngOnInit()}seeByCategory(){this.router.navigateByUrl(`/dashboard/earnings/by-category/${this.id}`),this.ngOnInit(!0)}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(d.yh),n.Y36(y.y),n.Y36(_.F0),n.Y36(_.gz))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-detail-earning-category"]],decls:51,vars:27,consts:[[1,"search-wrap","pt-8","px-6","h-full"],[1,"search-header"],[1,"main-text","flex","justify-between"],[1,"main-label"],[1,"flex","gap-2"],[1,"pb-1",3,"ngModel","ngModelChange","change"],["class","text-blue-400",3,"value",4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],[3,"ngModel","ngModelChange","change"],["value","12"],["value","20"],["value","24"],["value","36"],["value","48"],["value","60"],["value","100"],[1,"search-content","overflow-auto"],["class","grid xl:grid-cols-4 md:grid-cols-3 grid-cols-2 gap-4 mb-5",4,"ngIf"],["class","alert p-2",4,"ngIf"],[1,"search-footer"],["class","alert pt-3",4,"ngIf"],[1,"pagetor","inline-flex","justify-end","items-end","relative","-top-4","text-sm","fr"],["class","btn py-1 px-4 hover:bg-gray-800 transition-all text-white bg-gray-600 text-sm font-bold",3,"click",4,"ngIf"],[1,"p-1","bg-gray-900","text-white"],[4,"ngIf"],[1,"text-black",3,"ngModel","ngModelChange","change"],[1,"text-blue-400",3,"value"],[3,"value"],[1,"grid","xl:grid-cols-4","md:grid-cols-3","grid-cols-2","gap-4","mb-5"],[4,"ngFor","ngForOf"],[3,"showDelete","item"],[1,"alert","p-2"],[3,"routerLink"],[1,"alert","pt-3"],[1,"main-btn",3,"routerLink"],[1,"icon-coin-dollar","mr-1"],[1,"btn","py-1","px-4","hover:bg-gray-800","transition-all","text-white","bg-gray-600","text-sm","font-bold",3,"click"]],template:function(t,a){if(1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"div",1),n.TgZ(2,"h4",2),n.TgZ(3,"span"),n._uU(4," Have "),n.TgZ(5,"b",3),n._uU(6),n.qZA(),n._uU(7," earnings with this category "),n.TgZ(8,"b",3),n._uU(9),n.qZA(),n._uU(10,", by total of "),n.TgZ(11,"b",3),n._uU(12),n.ALo(13,"currency"),n.qZA(),n.qZA(),n.TgZ(14,"div",4),n.TgZ(15,"select",5),n.NdJ("ngModelChange",function(o){return a.id=o})("change",function(){return a.seeByCategory()}),n.YNc(16,hn,2,1,"option",6),n.ALo(17,"async"),n.YNc(18,fn,2,2,"option",7),n.ALo(19,"async"),n.qZA(),n.TgZ(20,"select",8),n.NdJ("ngModelChange",function(o){return a.limit=o})("change",function(){return a.ngOnInit(!0)}),n.TgZ(21,"option",9),n._uU(22,"12"),n.qZA(),n.TgZ(23,"option",10),n._uU(24,"20"),n.qZA(),n.TgZ(25,"option",11),n._uU(26,"24"),n.qZA(),n.TgZ(27,"option",12),n._uU(28,"36"),n.qZA(),n.TgZ(29,"option",13),n._uU(30,"48"),n.qZA(),n.TgZ(31,"option",14),n._uU(32,"60"),n.qZA(),n.TgZ(33,"option",15),n._uU(34,"100"),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.qZA(),n.TgZ(35,"div",16),n.YNc(36,xn,2,1,"div",17),n.YNc(37,yn,4,2,"div",18),n.qZA(),n.TgZ(38,"div",19),n.YNc(39,Zn,4,1,"div",20),n.TgZ(40,"div",21),n.YNc(41,Cn,2,0,"button",22),n.TgZ(42,"span",23),n._uU(43," Showing "),n.YNc(44,Tn,2,1,"span",24),n.YNc(45,An,2,1,"span",24),n._uU(46),n.TgZ(47,"select",25),n.NdJ("ngModelChange",function(o){return a.pageA=o})("change",function(){return a.setPage()}),n.YNc(48,En,2,2,"option",7),n.qZA(),n._uU(49),n.qZA(),n.YNc(50,Jn,2,0,"button",22),n.qZA(),n.qZA(),n.qZA()),2&t){let r;n.xp6(6),n.Oqu(a.quantity),n.xp6(3),n.Oqu(null==a.category?null:a.category.name),n.xp6(3),n.Oqu(n.gM2(13,18,a.total,"$","symbol","4.0")),n.xp6(3),n.Q6J("ngModel",a.id),n.xp6(1),n.Q6J("ngIf",!(null!=(r=n.lcZ(17,23,a.categories$))&&r.length)),n.xp6(2),n.Q6J("ngForOf",n.lcZ(19,25,a.categories$)),n.xp6(2),n.Q6J("ngModel",a.limit),n.xp6(16),n.Q6J("ngIf",a.earnings&&a.earnings.length),n.xp6(1),n.Q6J("ngIf",a.earnings&&!a.earnings.length),n.xp6(2),n.Q6J("ngIf",a.earnings&&a.earnings.length),n.xp6(2),n.Q6J("ngIf",a.page+1>1),n.xp6(3),n.Q6J("ngIf",a.limit*(a.page+1)<a.quantity),n.xp6(1),n.Q6J("ngIf",a.limit*(a.page+1)>a.quantity),n.xp6(1),n.hij(" of ",a.quantity," Registers | Page: "),n.xp6(1),n.Q6J("ngModel",a.pageA),n.xp6(1),n.Q6J("ngForOf",a.pagesArray),n.xp6(1),n.hij("/",a.pages," "),n.xp6(1),n.Q6J("ngIf",a.page+1<a.pages)}},directives:[l.EJ,l.JJ,l.On,p.O5,p.sg,l.YN,l.Kr,Q.F,_.yS],pipes:[p.H9,p.Ov],encapsulation:2}),e})(),wn=(()=>{class e{constructor(t){this.utilsEarnings=t,this.form=new l.cw({})}ngOnInit(){this.buildForm()}buildForm(){this.form=this.utilsEarnings.form()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.h))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-home-earnings"]],decls:4,vars:6,consts:[[1,"px-6","py-5"],[3,"formGroup"],[3,"form"],[3,"showHeader","showLink","showDelete","padding"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n._UZ(2,"app-earnings-filters",2),n.qZA(),n._UZ(3,"app-earnings-person",3),n.qZA()),2&t&&(n.xp6(1),n.Q6J("formGroup",a.form),n.xp6(1),n.Q6J("form",a.form),n.xp6(1),n.Q6J("showHeader",!1)("showLink",!1)("showDelete",!0)("padding",!1))},directives:[l._Y,l.JL,l.sg,x.i,A.a],encapsulation:2}),e})();function bn(e,i){if(1&e&&(n.TgZ(0,"div",2),n._UZ(1,"app-item-earning",3),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("showDelete",!0)("item",t.earning)("link",!1)("complete",!0)}}let Qn=(()=>{class e{constructor(t,a,r){this.earningSrv=t,this.route=a,this.router=r,this.id=0,this.susP=new u.w,this.earning=[],this.total=0,this.susP=this.route.params.subscribe(o=>{this.id=o.id})}ngOnDestroy(){this.susP.unsubscribe()}ngOnInit(){var t=this;return(0,m.Z)(function*(){try{let a=yield t.earningSrv.getDataEarning(t.id);a&&Object.keys(a).length?t.earning=a:t.router.url.indexOf("details")>0&&t.router.navigate(["/dashboard/earnings"])}catch(a){console.log(a),t.router.url.indexOf("details")>0&&t.router.navigate(["/dashboard/earnings"])}})()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(y.y),n.Y36(_.gz),n.Y36(_.F0))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-detail-earning"]],decls:2,vars:1,consts:[[1,"container","mt-8","mx-auto"],["class","grid gap-4",4,"ngIf"],[1,"grid","gap-4"],[3,"showDelete","item","link","complete"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0),n.YNc(1,bn,2,4,"div",1),n.qZA()),2&t&&(n.xp6(1),n.Q6J("ngIf",null==a.earning?null:a.earning.id))},directives:[p.O5,Q.F],encapsulation:2}),e})();const Yn=function(){return{text:"All Earnings",align:"center"}};function In(e,i){if(1&e&&n._UZ(0,"app-line",7),2&e){const t=n.oxw(3);n.Q6J("dataGraphics",t.dataGraphics)("nameLegend","All Time Earnings")("nameAvg","Average All")("title",n.DdM(4,Yn))}}function qn(e,i){}function Nn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,In,1,5,"app-line",5),n.YNc(2,qn,0,0,"ng-template",6),n.qZA()),2&e){const t=n.oxw(2),a=n.MAs(5);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}const Dn=function(){return{text:"Month Earnings",align:"center"}};function Un(e,i){if(1&e&&n._UZ(0,"app-line",9),2&e){const t=n.oxw(3);n.Q6J("dataGraphics",t.dataGraphics)("type","month")("nameLegend","Month Earnings")("nameAvg","Average Month")("title",n.DdM(5,Dn))}}function On(e,i){}function Mn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Un,1,6,"app-line",8),n.YNc(2,On,0,0,"ng-template",6),n.qZA()),2&e){const t=n.oxw(2),a=n.MAs(5);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}const Ln=function(){return{}},Fn=function(){return{text:"Year Earnings",align:"center"}};function Sn(e,i){if(1&e&&n._UZ(0,"app-line",11),2&e){const t=n.oxw(3);n.Q6J("dataGraphics",t.dataGraphics)("type","year")("nameLegend","Year Earnings")("nameAvg","Average Year")("xAxis",n.DdM(6,Ln))("title",n.DdM(7,Fn))}}function $n(e,i){}function Pn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Sn,1,8,"app-line",10),n.YNc(2,$n,0,0,"ng-template",6),n.qZA()),2&e){const t=n.oxw(2),a=n.MAs(5);n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngTemplateOutlet",a)}}function jn(e,i){}function Bn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,jn,0,0,"ng-template",6),n.qZA()),2&e){n.oxw(2);const t=n.MAs(5);n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function Hn(e,i){}function Rn(e,i){if(1&e&&(n.TgZ(0,"div"),n.YNc(1,Hn,0,0,"ng-template",6),n.qZA()),2&e){n.oxw(2);const t=n.MAs(5);n.xp6(1),n.Q6J("ngTemplateOutlet",t)}}function Xn(e,i){if(1&e&&(n.ynx(0),n.YNc(1,Nn,3,2,"div",3),n.YNc(2,Mn,3,2,"div",3),n.YNc(3,Pn,3,2,"div",3),n.YNc(4,Bn,2,1,"div",3),n.YNc(5,Rn,2,1,"div",3),n.BQk()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",!(null!=t.form&&null!=t.form.controls&&null!=t.form.controls.filter&&t.form.controls.filter.value)),n.xp6(1),n.Q6J("ngIf","month"===t.form.controls.filter.value&&t.form.controls.month.value),n.xp6(1),n.Q6J("ngIf","year"===t.form.controls.filter.value&&t.form.controls.year.value),n.xp6(1),n.Q6J("ngIf","date"===t.form.controls.filter.value&&t.form.controls.date.value),n.xp6(1),n.Q6J("ngIf","dates"===t.form.controls.filter.value&&t.form.controls.date1.value&&t.form.controls.date2.value)}}const Y=function(){return{text:"Year Category",align:"center"}};function kn(e,i){if(1&e&&n._UZ(0,"app-donut",14),2&e){const t=n.oxw(2);n.Q6J("dataGraphics",t.dataGraphics)("type","categoryearnings")("title",n.DdM(3,Y))}}function zn(e,i){if(1&e&&n._UZ(0,"app-donut",14),2&e){const t=n.oxw(2);n.Q6J("dataGraphics",t.dataGraphics)("type","account")("title",n.DdM(3,Y))}}function Wn(e,i){if(1&e&&(n.TgZ(0,"div",12),n.YNc(1,kn,1,4,"app-donut",13),n.YNc(2,zn,1,4,"app-donut",13),n.qZA()),2&e){const t=n.oxw();n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length),n.xp6(1),n.Q6J("ngIf",null==t.dataGraphics?null:t.dataGraphics.length)}}const Vn=[{path:"",component:O,canActivate:[M.s],children:[{path:"",component:wn},{path:"create",component:mn},{path:"graphics",component:(()=>{class e{constructor(t,a){this.utilsEarnings=t,this.store=a,this.form=new l.cw({}),this.loading=!1,this.loaded=!1,this.dataGraphics=[],this.sub=new u.w,this.sub=this.store.select(r=>r).subscribe(r=>{var o,s,c;try{this.loading=null===(o=null==r?void 0:r.earnings)||void 0===o?void 0:o.loading,this.loaded=null===(s=null==r?void 0:r.earnings)||void 0===s?void 0:s.loaded,this.dataGraphics=[{},...null===(c=null==r?void 0:r.earnings)||void 0===c?void 0:c.complete]}catch(h){console.log(h)}})}ngOnInit(){this.buildForm()}buildForm(){this.form=this.utilsEarnings.form()}}return e.\u0275fac=function(t){return new(t||e)(n.Y36(v.h),n.Y36(d.yh))},e.\u0275cmp=n.Xpm({type:e,selectors:[["app-graphics-earnings"]],decls:6,vars:4,consts:[[1,"px-6","py-5"],[3,"formGroup"],[3,"form","isFromGraphics"],[4,"ngIf"],["donuts",""],[3,"dataGraphics","nameLegend","nameAvg","title",4,"ngIf"],[3,"ngTemplateOutlet"],[3,"dataGraphics","nameLegend","nameAvg","title"],[3,"dataGraphics","type","nameLegend","nameAvg","title",4,"ngIf"],[3,"dataGraphics","type","nameLegend","nameAvg","title"],[3,"dataGraphics","type","nameLegend","nameAvg","xAxis","title",4,"ngIf"],[3,"dataGraphics","type","nameLegend","nameAvg","xAxis","title"],[1,"grid","grid-cols-2"],[3,"dataGraphics","type","title",4,"ngIf"],[3,"dataGraphics","type","title"]],template:function(t,a){1&t&&(n.TgZ(0,"div",0),n.TgZ(1,"form",1),n._UZ(2,"app-earnings-filters",2),n.qZA(),n.YNc(3,Xn,6,5,"ng-container",3),n.qZA(),n.YNc(4,Wn,3,2,"ng-template",null,4,n.W1O)),2&t&&(n.xp6(1),n.Q6J("formGroup",a.form),n.xp6(1),n.Q6J("form",a.form)("isFromGraphics",!0),n.xp6(1),n.Q6J("ngIf",a.loaded))},directives:[l._Y,l.JL,l.sg,x.i,p.O5,p.tP,E.y,J.L],encapsulation:2}),e})()},{path:":id/details",component:Qn},{path:"categories",component:b.C},{path:"categories/create",component:dn},{path:"by-category/:id",component:Gn}]}];let nt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[_.Bz.forChild(Vn)],_.Bz]}),e})(),tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=n.oAB({type:e}),e.\u0275inj=n.cJS({imports:[[p.ez,l.u5,l.UX,I.A0,q.X,nt,N.m]]}),e})()}}]);
//# sourceMappingURL=177.6d5f4f75e83fc95019c1.js.map